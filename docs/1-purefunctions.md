# Pure Functions 纯函数

实际开发的软件不同于形式语言与自动机中学到的状态机那样状态可以在试卷上打印出来。大多数的软件的状态数是超乎想象的，这就使得很难跟踪到所有的状态。尤其是程序中的变量在发生变化时，程序从一个状态转换到另一个状态，有的函数可能因此而产生不同的行为。

一个最简单的例子：即设有一个函数依赖于一个全局变量，它只是输出全局变量的值+1，一旦在这个函数之外的全局变量发生变化，那么这个函数就会进行不同的行为。

OOP范式为了解决这个问题选择将变量封装在对象内部，使得对象可以更加轻松地管理这些变量。但这样没有从根本上减少状态的数量。

FP的思想是纯函数：这与数学上的函数定义一致
$$f: X \to Y := [(f \text{is a function})\wedge (D_f = X) \wedge (I_f \subseteq  Y)]$$
推而广之，函数式编程中的函数就是不能改变任何外部状态：不能读取标准输入（改变输入流内容），不能输出（改变输出流内容），不能读取/写入文件（改变文件状态）等。

一个编写函数式程序的方法是先使用命令式写出来，之后将程序转换为函数式程序。具体可以将函数中不得不进行修改状态的部分抽离出来，作为一个处理中间件。

上面的方法无疑效率低下而难以摆脱命令式思维的约束。后续章节将介绍如何使用函数式思维编写程序。

本项目着力于C++和函数式编程，与其优缺点无关，所以这部分不赘述。
